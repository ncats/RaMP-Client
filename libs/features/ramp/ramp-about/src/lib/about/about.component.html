<div fxLayout="row" class="about-content">
  <div fxFlex="5" fxShow.lt-sm></div>
  <div fxFlex="20" fxHide.lt-sm class="toc-wrapper">
    <div class="toc">
      <mat-nav-list>
        <a
          mat-list-item
          class="list-button"
          (click)="scroll(about)"
          [ngClass]="{ active: isActive('about') }"
        >
          About
        </a>
        <a
          mat-list-item
          class="list-button"
          (click)="scroll(capabilities)"
          [ngClass]="{ active: isActive('capabilities') }"
          >Capabilities
        </a>
        <a
          mat-list-item
          *ngIf="entityCounts"
          class="list-button"
          (click)="scroll(dataSources)"
          [ngClass]="{ active: isActive('dataSources') }"
          >Data Sources
        </a>
        <a
          mat-list-item
          class="list-button"
          (click)="scroll(dataDownload)"
          [ngClass]="{ active: isActive('dataDownload') }"
          >Data Download
        </a>
        <a
          mat-list-item
          *ngIf="compoundsData?.length || genesData?.length"
          class="list-button"
          (click)="scroll(summaryStatistics)"
          [ngClass]="{ active: isActive('summaryStatistics') }"
          >Summary Statistics
        </a>
        <a
          mat-list-item
          class="list-button"
          (click)="scroll(citation)"
          [ngClass]="{ active: isActive('citation') }"
        >
          Citation
        </a>
        <a
          mat-list-item
          class="list-button"
          (click)="scroll(contact)"
          [ngClass]="{ active: isActive('contact') }"
        >
          RaMP Team and Contact
        </a>
        <a
          mat-list-item
          class="list-button"
          (click)="scroll(code)"
          [ngClass]="{ active: isActive('code') }"
        >
          Code
        </a>
        <a
          mat-list-item
          class="list-button"
          (click)="scroll(license)"
          [ngClass]="{ active: isActive('license') }"
        >
          License
        </a>
      </mat-nav-list>
    </div>
  </div>
  <div
    fxFlex="80"
    fxFlex.lt-sm="90"
    id="scroller-wrapper"
    class="about-wrapper"
    cdkScrollable
  >
    <div fxLayout="row" fxLayoutAlign="space-around center">
      <div fxFlex="100">
        <h1 class="ramp-title">
          <b>RaMP</b>: Relational Database of Metabolomics Pathways
        </h1>
      </div>
    </div>
    <div fxLayout="row" id="about" #about #scrollSection>
      <div fxFlex="75" fxFlex.lt-md="100">
        <div class="section-header" [ngClass]="{ active: isActive('about') }">
          About RaMP
        </div>
        <div class="section-content">
          <p>
            RaMP (Relational database of Metabolomic Pathways) is a
            multi-sourced integrated database with comprehensive pathway,
            chemical, and ontology annotations for genes, proteins, and
            metabolites.
            <span *ngIf="sourceVersions?.length"
              >Information within RaMP is harmonized from the following data
              sources:</span
            >
          </p>
          <ul class="ramp-list">
            <li *ngFor="let version of sourceVersions">
              <a
                href="{{ version.data_source_url }}"
                target="_blank"
                rel="noreferrer"
                attr.aria-label="Hyperlink to the {{
                  version.data_source_name
                }} website. Link opens in a new tab."
              >
                {{ version.data_source_name }}</a
              >
              &nbsp;
              <span>{{ version.data_source_version }}</span>
            </li>
          </ul>
          <p>
            This web application allows users to interact with RaMP without any
            programming experience by performing basic queries on pathways,
            common reactions, ontologies, and chemical structures/classes. The
            app also supports pathway and chemical class enrichment analysis
            (using Fisher's Exact Test). To facilitate the interpretation of
            multi-omic data, users can input gene, protein, and metabolite IDs
            for queries and analyses. The inclusion of a mix of ID types as
            input is supported (e.g. users must prepend IDs with the source,
            such as hmdb:HMDB0000562). Further details on which IDs are
            supported is provided for each query or analyses module.
          </p>
        </div>
      </div>
    </div>
    <div fxLayout="row" id="capabilities" #capabilities #scrollSection>
      <div fxFlex="75" fxFlex.lt-md="100">
        <div
          class="section-header"
          [ngClass]="{ active: isActive('capabilities') }"
        >
          Capabilities
        </div>
        <div class="section-content">
          <ul class="ramp-list">
            <li>
              <b>Pathways</b> refers to biological pathways as drawn from
              <a
                href="https://www.genome.jp/kegg/"
                target="_blank"
                rel="noreferrer"
                aria-label="Hyperlink to the KEGG website. Link opens in a new tab."
                >KEGG</a
              >
              (through
              <a
                href="https://hmdb.ca/"
                target="_blank"
                rel="noreferrer"
                aria-label="Hyperlink to the HMDB  website. Link opens in a new tab."
                >HMDB</a
              >),
              <a
                href="https://reactome.org/"
                target="_blank"
                rel="noreferrer"
                aria-label="Hyperlink to the Reactome website. Hyperlink opens in a new tab."
                >Reactome</a
              >
              , and
              <a
                href="https://www.wikipathways.org/index.php/WikiPathways"
                target="_blank"
                rel="noreferrer"
                aria-label="Hyperlink to the WikiPathways website. Hyperlink opens in a new tab."
                >WikiPathways</a
              >.
            </li>
            <li>
              <b>Common Reactions</b> refers to the retrieval of genes/enzymes
              that modulate levels of metabolites, or vice versa.
            </li>
            <li>
              <b>Ontologies</b> refers to chemical and functional ontologies
              from
              <a
                href="https://hmdb.ca/"
                target="_blank"
                rel="noreferrer"
                aria-label="Hyperlink to the HMDB
                  website. Link opens in a new tab"
                >HMDB</a
              >, which is based on a standardized set of ontological definitions
              on metabolite processes, roles, physiological effects and
              disposition (e.g., biological location and source).
            </li>
            <li>
              <b>Chemical Structures/Class</b> refers to
              <a
                href="http://classyfire.wishartlab.com/"
                target="_blank"
                rel="noreferrer"
                aria-label="Hyperlink
                  to the ClassyFire Chemical Taxonomy website. Link opens in a new tab."
                >HMDB’s ClassyFire Chemical Taxonomy</a
              >
              and
              <a
                href="https://www.lipidmaps.org/"
                target="_blank"
                rel="noreferrer"
                aria-label="Hyperlink
                  to the LipidMAPS website. Link opens in a new tab."
                >LipidMAPS</a
              >
              lipid classification system
            </li>
          </ul>
          <picture>
            <source
              srcset="/assets/ramp-about/images/Supported_Queries.webp"
              type="image/webp"
            />
            <source
              srcset="/assets/ramp-about/images/Supported_Queries.png"
              type="image/png"
            />
            <img
              src="/assets/ramp-about/images/Supported_Queries.png"
              class="ramp-capabilities-image"
              alt="flow diagram illustrating the RaMP data types, annotations and analysis"
            />
          </picture>
        </div>
      </div>
    </div>
    <div fxLayout="row" id="dataSources" #dataSources #scrollSection>
      <div fxFlex="75" fxFlex.lt-md="100" *ngIf="entityCounts">
        <div
          class="section-header"
          [ngClass]="{ active: isActive('dataSources') }"
        >
          Data Sources
        </div>
        <div class="section-content">
          <ncats-frontend-library-ncats-datatable
            [fieldsConfig]="entityCountsColumns"
            [data]="entityCounts"
            [internalSort]="true"
          ></ncats-frontend-library-ncats-datatable>
        </div>
      </div>
    </div>
    <div fxLayout="row" id="dataDownload" #dataDownload #scrollSection>
      <div fxFlex="75" fxFlex.lt-md="100" >
        <div
          class="section-header"
          [ngClass]="{ active: isActive('dataDownload') }"
        >
          Data Download
        </div>
        <div class="section-content">
         A SQL data dump of RaMP-DB is hosted at
          <a href="https://figshare.com/"
             target="_blank"
             rel="noreferrer"
             attr.aria-label= "link to figshare"
          >Figshare</a> and can be accessed
          <a
            href="https://figshare.com/ndownloader/files/34941486"
            target="_blank"
            rel="noreferrer"
            attr.aria-label= "link to SQL data dump hosted on figshare"

          >here.</a>
        </div>
      </div>
    </div>
    <div
      fxLayout="row"
      fxLayout.lt-md="column"
      id="summaryStatistics"
      #summaryStatistics
      #scrollSection
    >
      <div
        fxFlex="75"
        fxFlex.lt-md="100"
        *ngIf="compoundsData?.length || genesData?.length"
      >
        <div
          class="section-header"
          [ngClass]="{ active: isActive('summaryStatistics') }"
        >
          Summary Statistics
        </div>
        <div class="section-content">
          <p>
            Because RaMP draws from multiple sources, its information content
            exceeds that of each individual resource. The following UpSet plots
            highlight the common and unique metabolites and genes covered for
            each resource.
          </p>
          <div fxLayout="row wrap" fxLayoutAlign="space-around center">
            <div fxFlex.gt-md="63" fxFlex.lt-md="95">
              <ramp-upset
                [title]="'Metabolite Overlap'"
                [data]="compoundsData"
                scale="log"
                *ngIf="compoundsData && compoundsData.length > 0"
              >
              </ramp-upset>
            </div>
            <div fxFlex.gt-md="30" fxFlex.lt-md="95">
              <ramp-upset
                [title]="'Gene Overlap'"
                [data]="genesData"
                scale="log"
                *ngIf="genesData && genesData.length > 0"
              >
              </ramp-upset>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div fxLayout="row" id="citation" #citation #scrollSection>
      <div fxFlex="75" fxFlex.lt-md="100">
        <div
          class="section-header"
          [ngClass]="{ active: isActive('citation') }"
        >
          Citation
        </div>
        <div class="section-content">
          <p>If you use RaMP, please cite the following work:</p>
          <p>
            <a href="https://www.mdpi.com/2218-1989/8/1/16" target="_blank"
              >Zhang, B., et al., RaMP: A Comprehensive Relational Database of
              Metabolomics Pathways for Pathway Enrichment Analysis of Genes and
              Metabolites. Metabolites, 2018. 8(1). PMID: 29470400; PMCID:
              PMC5876005; DOI: 10.3390/metabo8010016</a
            >
          </p>
          <p>
            An example usage can be found in
            <a
              href="https://pubmed.ncbi.nlm.nih.gov/30725469/"
              target="_blank"
              rel="noreferrer"
              aria-label="Link to a book chapter about RaMP"
              >this chapter</a
            >.
          </p>
          <p>Detailed instructions for installing RaMP locally are below.</p>
          <p>
            We've also put together
            <a
              href="https://ncats.github.io/RaMP-DB/RaMP_Vignette.html"
              target="_blank"
              rel="noreferrer"
              aria-label="Link to the RaMP vignette"
            >
              a vignette</a
            >
            to help get you started on analysis.
          </p>
        </div>
      </div>
    </div>
    <div fxLayout="row" id="contact" #contact #scrollSection>
      <div fxFlex="75" fxFlex.lt-md="100">
        <div class="section-header" [ngClass]="{ active: isActive('contact') }">
          RaMP Team and Contact
        </div>
        <div class="section-content">
          <br>
          <br>
          <br>
          <h2 class ="contributor-header">Current Contributors</h2>
          <div fxLayout="row" fxLayoutAlign="space-around start">
            <div fxFlex="20" class="portrait-holder">
              <picture>
                <source
                  srcset="/assets/ramp-about/images/team/john_braisted.webp"
                  type="image/webp"
                />
                <source
                  srcset="/assets/ramp-about/images/team/john_braisted.jpg"
                  type="image/jpeg"
                />
                <img
                  src="/assets/ramp-about/images/team/john_braisted.jpg"
                  alt="John Braisted portrait"
                  class="ramp-portrait"
                />
              </picture>
              <br />
              <h2>John Braisted</h2>
            </div>
            <div fxFlex="20" class="portrait-holder">
              <picture>
                <source
                  srcset="/assets/ramp-about/images/team/tara_eicher.webp"
                  type="image/webp"
                />
                <source
                  srcset="/assets/ramp-about/images/team/tara_eicher.jpg"
                  type="image/jpeg"
                />
                <img
                  src="/assets/ramp-about/images/team/tara_eicher.jpg"
                  alt="Tara Eicher portrait"
                  class="ramp-portrait"
                />
              </picture>
              <h2>Tara Eicher</h2>
            </div>

            <div fxFlex="20" class="portrait-holder">
              <picture>
                <source
                  srcset="./assets/ramp-about/images/team/ewy_mathe.webp"
                  type="image/webp"
                />
                <source
                  srcset="./assets/ramp-about/images/team/ewy_mathe.jpg"
                  type="image/jpeg"
                />
                <img
                  src="./assets/ramp-about/images/team/ewy_mathe.jpg"
                  alt="Ewy Mathé portrait"
                  class="ramp-portrait"
                />
              </picture>
              <h2>Ewy Mathé</h2>
            </div>
            <div fxFlex="20" class="portrait-holder">
              <picture>
                <source
                  srcset="/assets/ramp-about/images/team/andrew_patt.webp"
                  type="image/webp"
                />
                <source
                  srcset="/assets/ramp-about/images/team/andrew_patt.jpg"
                  type="image/jpeg"
                />
                <img
                  src="/assets/ramp-about/images/team/andrew_patt.jpg"
                  alt="Andrew Patt portrait"
                  class="ramp-portrait"
                />
              </picture>
              <h2>Andrew Patt</h2>
            </div>

          </div>
          <div fxLayout="row" fxLayoutAlign="space-around center">
            <div fxFlex="20" class="portrait-holder">
              <picture>
                <source
                  srcset="/assets/ramp-about/images/team/timothy_sheils.webp"
                  type="image/webp"
                />
                <source
                  srcset="/assets/ramp-about/images/team/timothy_sheils.jpg"
                  type="image/jpeg"
                />
                <img
                  src="/assets/ramp-about/images/team/timothy_sheils.jpg"
                  alt="Timothy Sheils portrait"
                  class="ramp-portrait"
                />
              </picture>
              <h2>Timothy Sheils</h2>
            </div>
            <div fxFlex="20" class="portrait-holder">
              <picture>
                <source
                  srcset="/assets/ramp-about/images/team/kyle_spencer.webp"
                  type="image/webp"
                />
                <source
                  srcset="/assets/ramp-about/images/team/kyle_spencer.jpg"
                  type="image/jpeg"
                />
                <img
                  src="/assets/ramp-about/images/team/kyle_spencer.jpg"
                  alt="Kyle Spencer portrait"
                  class="ramp-portrait"
                />
              </picture>
              <h2>Kyle Spencer</h2>
            </div>
            <div fxFlex="20" class="portrait-holder">
              <picture>
                <source
                  srcset="/assets/ramp-about/images/team/cole_tindall.webp"
                  type="image/webp"
                />
                <source
                  srcset="/assets/ramp-about/images/team/cole_tindall.jpg"
                  type="image/jpeg"
                />
                <img
                  src="/assets/ramp-about/images/team/cole_tindall.jpg"
                  alt="Cole Tindall portrait"
                  class="ramp-portrait"
                />
              </picture>
              <h2>Cole Tindall</h2>
            </div>
          </div>
          <br>
          <br>
          <h2>Previous Contributors</h2>
          <div fxLayout="row" fxLayoutAlign="space-around center">
            <div fxFlex="20" class="portrait-holder">
              <picture>
                <source
                  srcset="/assets/ramp-about/images/team/jorge_neyra.webp"
                  type="image/webp"
                />
                <source
                  srcset="/assets/ramp-about/images/team/jorge_neyra.jpg"
                  type="image/jpeg"
                />
                <img
                  src="/assets/ramp-about/images/team/jorge_neyra.jpg"
                  alt="Jorge Neyra portrait"
                  class="ramp-portrait"
                />
              </picture>
              <h2>Jorge Neyra</h2>
            </div>

            <div fxFlex="20" class="portrait-holder">
              <h2>Rohith Vanam</h2>
            </div>
            <div fxFlex="20" class="portrait-holder">
              <h2>Shunchao Wang</h2>
            </div>
            <div fxFlex="20" class="portrait-holder">
              <h2>Bofei Zhang</h2>
            </div>
            </div>
          <p>
            For questions or issues, please submit an issue on our
            <a
              href="https://github.com/ncats/RaMP-DB/issues"
              target="_blank"
              rel="noreferrer"
              aria-label="Link to the RaMP DB codebase"
              >GitHub site</a
            >
            or send us an email at
            <a href="mailto:NCATSRaMP@nih.gov">NCATSRaMP@nih.gov</a>
          </p>
        </div>
      </div>
    </div>

<!--
    <div fxLayout="row" id="datadownload" #datadownload #scrollSection>
      <div fxFlex="75" fxFlex.lt-md="100">
        <div
          class="section-header"
          [ngClass]="{ active: isActive('datadownload') }"
        >
          Data Download
        </div>
        <div class="section-content"></div>
      </div>
    </div>
-->
    <div fxLayout="row" id="code" #code #scrollSection>
      <div fxFlex="75" fxFlex.lt-md="100">
        <div class="section-header" [ngClass]="{ active: isActive('code') }">
          Code
        </div>
        <div class="section-content">
          RaMP code is freely available via our GitHub pages:
          <mat-list>
            <mat-list-item
              ><a
                href="https://github.com/ncats/RaMP-DB"
                target="_blank"
                rel="noreferrer"
                aria-label="Link to the RaMP DB GitHub page"
                >RaMP DB</a
              > Source code for the RaMP R package</mat-list-item
            >
            <mat-list-item
              ><a
                href="https://github.com/ncats/RaMP-BackEnd"
                target="_blank"
                rel="noreferrer"
                aria-label="Link to the RaMP DB GitHub page"
                >RaMP Backend</a
              > Code base for pulling in data, data harmonization and database loading</mat-list-item
            >
            <mat-list-item
              ><a
                href="https://github.com/ncats/RaMP-Client"
                target="_blank"
                rel="noreferrer"
                aria-label="Link to the RaMP Client GitHub page"
                >RaMP Client</a
              > Front end client consisting of a web application and an R Plumber API</mat-list-item
            >
          </mat-list>
        </div>
      </div>
    </div>
    <div fxLayout="row" id="license" #license #scrollSection>
      <div fxFlex="75" fxFlex.lt-md="100">
        <div class="section-header" [ngClass]="{ active: isActive('license') }">
          License
        </div>
        <div class="section-content">
          <p>
            The RaM-DB R package is released under a
            <a
              href="https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html"
              target="_blank"
              rel="noreferrer"
              aria-label="Link to the GPL-2 license site"
              >GPL-2</a
            >
            license.
          </p>
        </div>
      </div>
    </div>
    <div class="spacer"></div>
  </div>
</div>
